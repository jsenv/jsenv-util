{"version":3,"file":"main.cjs","sources":["../../node_modules/@jsenv/url-meta/src/internal/assertUrlLike.js","../../node_modules/@jsenv/url-meta/src/applySpecifierPatternMatching.js","../../node_modules/@jsenv/url-meta/src/internal/isPlainObject.js","../../node_modules/@jsenv/url-meta/src/metaMapToSpecifierMetaMap.js","../../node_modules/@jsenv/url-meta/src/internal/assertSpecifierMetaMap.js","../../node_modules/@jsenv/url-meta/src/normalizeSpecifierMetaMap.js","../../node_modules/@jsenv/url-meta/src/urlCanContainsMetaMatching.js","../../node_modules/@jsenv/url-meta/src/urlToMeta.js","../../src/internal/ensureUrlTrailingSlash.js","../../src/isFileSystemPath.js","../../src/fileSystemPathToUrl.js","../../src/assertAndNormalizeDirectoryUrl.js","../../src/assertAndNormalizeFileUrl.js","../../src/internal/statsToType.js","../../src/urlToFileSystemPath.js","../../src/internal/permissions.js","../../src/writeFileSystemNodePermissions.js","../../src/readFileSystemNodeStat.js","../../src/assertDirectoryPresence.js","../../src/assertFilePresence.js","../../src/bufferToEtag.js","../../node_modules/@jsenv/cancellation/src/createCancellationToken.js","../../node_modules/@jsenv/cancellation/src/operation/createOperation.js","../../src/readDirectory.js","../../src/internal/getCommonPathname.js","../../src/internal/pathnameToDirectoryPathname.js","../../src/urlToRelativeUrl.js","../../src/comparePathnames.js","../../src/collectFiles.js","../../src/writeDirectory.js","../../src/resolveUrl.js","../../src/removeFileSystemNode.js","../../src/ensureEmptyDirectory.js","../../src/ensureWindowsDriveLetter.js","../../src/internal/urlTargetsSameFileSystemPath.js","../../src/ensureParentDirectories.js","../../src/writeFileSystemNodeModificationTime.js","../../src/internal/replaceBackSlashesWithSlashes.js","../../src/readSymbolicLink.js","../../src/writeSymbolicLink.js","../../src/urlIsInsideOf.js","../../src/copyFileSystemNode.js","../../src/readFileSystemNodePermissions.js","../../src/grantPermissionsOnFileSystemNode.js","../../src/moveFileSystemNode.js","../../src/readFile.js","../../src/readFileSystemNodeModificationTime.js","../../src/internal/fileSystemNodeToTypeOrNull.js","../../src/internal/createWatcher.js","../../src/internal/trackRessources.js","../../src/registerDirectoryLifecycle.js","../../src/registerFileLifecycle.js","../../src/resolveDirectoryUrl.js","../../src/testFileSystemNodePermissions.js","../../src/writeFile.js"],"sourcesContent":null,"names":["assertUrlLike","value","name","TypeError","isWindowsPathnameSpecifier","hasScheme","specifier","firstChar","test","secondChar","thirdChar","applySpecifierPatternMatching","url","rest","Object","keys","length","Error","applyPatternMatching","pattern","string","patternIndex","index","remainingPattern","remainingString","pass","fail","slice","skipResult","skipUntilMatch","matched","slashIndex","indexOf","skippablePredicate","bestMatch","matchAttempt","skippable","Math","max","isPlainObject","Array","isArray","metaMapToSpecifierMetaMap","metaMap","specifierMetaMap","forEach","metaKey","specifierValueMap","metaValue","meta","assertSpecifierMetaMap","checkComposition","plainObject","key","normalizeSpecifierMetaMap","specifierMetaMapNormalized","specifierResolved","String","URL","urlCanContainsMetaMatching","predicate","endsWith","fullMatchMeta","someFullMatch","partialMatchMetaArray","push","Boolean","some","partialMatchMeta","urlToMeta","reduce","previousMeta","ensureUrlTrailingSlash","isFileSystemPath","startsWithWindowsDriveLetter","fileSystemPathToUrl","pathToFileURL","assertAndNormalizeDirectoryUrl","urlString","href","e","startsWith","assertAndNormalizeFileUrl","baseUrl","statsToType","stats","isFile","isDirectory","isSymbolicLink","isFIFO","isSocket","isCharacterDevice","isBlockDevice","undefined","urlToFileSystemPath","fileUrl","fileSystemPath","fileURLToPath","S_IRUSR","S_IWUSR","S_IXUSR","S_IRGRP","S_IWGRP","S_IXGRP","S_IROTH","S_IWOTH","S_IXOTH","binaryFlagsToPermissions","binaryFlags","owner","read","write","execute","group","others","permissionsToBinaryFlags","writeFileSystemNodePermissions","source","permissions","sourceUrl","sourcePath","getPermissionOrComputeDefault","chmodNaive","Promise","resolve","reject","chmod","error","actionLevels","subjectLevels","action","subject","subjectPermissions","actionLevel","actionFallback","find","actionFallbackCandidate","subjectLevel","subjectFallback","subjectFallbackCandidate","isWindows","process","platform","readFileSystemNodeStat","nullIfNotFound","followLink","handleNotFoundOption","handleNotFoundError","readStat","handlePermissionDeniedError","nodeMethod","stat","lstat","statsObject","code","assertDirectoryPresence","sourceStats","assertFilePresence","ETAG_FOR_EMPTY_CONTENT","bufferToEtag","buffer","Buffer","isBuffer","hash","createHash","update","hashBase64String","digest","hashBase64StringSubset","toString","createCancellationToken","register","callback","unregister","throwIfRequested","cancellationRequested","createOperation","cancellationToken","start","unknownArgumentNames","promise","cancelPromise","cancelRegistration","cancelError","then","operationPromise","race","readDirectory","emfileMaxWait","directoryUrl","directoryPath","startMs","Date","now","attemptCount","attempt","readdirNaive","handleTooManyFilesOpenedError","nowMs","timeSpentWaiting","setTimeout","readdir","names","getCommonPathname","pathname","otherPathname","firstDifferentCharacterIndex","findFirstDifferentCharacterIndex","commonString","charAt","firstDifferentSlashIndex","lastIndexOf","otherString","maxCommonLength","min","i","char","otherChar","pathnameToDirectoryPathname","slashLastIndex","urlToRelativeUrl","urlArg","baseUrlArg","protocol","username","password","host","search","basePathname","commonPathname","specificPathname","baseSpecificPathname","baseSpecificDirectoryPathname","relativeDirectoriesNotation","replace","relativePathname","comparePathnames","leftPathame","rightPathname","leftPartArray","split","rightPartArray","leftLength","rightLength","maxLength","leftPartExists","rightPartExists","leftPartIsLast","rightPartIsLast","leftPart","rightPart","comparison","localeCompare","collectFiles","matchingFileOperation","rootDirectoryUrl","matchingFileResultArray","visitDirectory","directoryItems","all","map","directoryItem","directoryChildNodeUrl","directoryChildNodeStats","subDirectoryUrl","relativeUrl","operationResult","fileStats","sort","leftFile","rightFile","mkdir","promises","writeDirectory","destination","recursive","allowUseless","destinationUrl","destinationPath","destinationStats","destinationType","resolveUrl","removeFileSystemNode","maxRetries","retryDelay","onlyContent","removeNonDirectory","removeDirectory","retryCount","unlinkNaive","handleTemporaryError","unlink","visit","visitFile","visitSymbolicLink","optionsFromRecursive","handleNotEmptyError","removeDirectoryContent","removeDirectoryNaive","handlePermissionError","openOrCloseError","fd","openSync","closeSync","console","stack","symbolicLinkUrl","rmdir","lstatObject","ensureEmptyDirectory","sourceType","baseUrlFallback","cwd","ensureWindowsDriveLetter","afterProtocol","extractDriveLetter","baseUrlOrFallback","driveLetter","ressource","urlTargetsSameFileSystemPath","leftUrl","rightUrl","ensureParentDirectories","destinationParentPath","dirname","writeFileSystemNodeModificationTime","mtime","mtimeValue","floor","atimeValue","utimes","replaceBackSlashesWithSlashes","readSymbolicLink","symbolicLinkPath","readlink","resolvedPath","symlink","writeSymbolicLink","target","type","targetValue","targetUrl","targetStats","urlIsInsideOf","urlValue","otherUrlValue","otherUrl","origin","urlPathname","otherUrlPathname","copyFileSystemNode","overwrite","preserveStat","preserveMtime","preservePermissions","fileRelativeUrl","fileCopyUrl","copyFileContentNaive","copyStats","symbolicLinkRelativeUrl","symbolicLinkTarget","symbolicLinkTargetUrl","linkIsRelative","symbolicLinkCopyTarget","linkCopyTargetRelative","linkType","symbolicLinkCopyUrl","mode","mtimeMs","directoryStats","directoryRelativeUrl","directoryCopyUrl","copyDirectoryContent","fileSystemNodeUrl","filePath","fileDestinationPath","copyFileNode","readFileSystemNodePermissions","grantPermissionsOnFileSystemNode","filePermissions","moveFileSystemNode","moveNaive","handleCrossDeviceError","rename","readFilePromisified","promisify","readFileNode","readFile","readFileSystemNodeModificationTime","fileSystemNodeToTypeOrNull","path","statSync","createWatcher","options","watcher","watch","on","trackRessources","callbackArray","registerCleanupCallback","splice","cleanup","reason","localCallbackArray","isLinux","fsWatchSupportsRecursive","registerDirectoryLifecycle","added","updated","removed","watchDescription","notifyExistent","keepProcessAlive","undefinedOrFunction","entryShouldBeWatched","entryUrl","canContainEntryToWatch","entryMeta","tracker","contentMap","handleDirectoryEvent","filename","eventType","handleChange","relativeUrlCandidateArray","filter","relativeUrlCandidate","includes","afterDirectory","removedEntryRelativeUrl","handleEntryLost","previousType","handleEntryFound","existent","entryFound","entry","persistent","close","fileSystemPathToDirectoryRelativeUrlAndFilename","readdirSync","normalizedPath","registerFileLifecycle","handleFileFound","fileMutationStopWatching","watchFileMutation","fileMutationStopTracking","watchFileAdded","fileCreationStopWatching","watchFileCreation","fileCreationgStopTracking","sourceFilename","basename","directoryWatcher","resolveDirectoryUrl","access","R_OK","W_OK","X_OK","constants","testFileSystemNodePermissions","allowedIfNotFound","writeFile","writeFileNode","content"],"mappings":"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"}