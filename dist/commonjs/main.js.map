{"version":3,"file":"main.js","sources":["../../src/urlHasScheme.js","../../src/filePathToUrl.js","../../src/ensureUrlTrailingSlash.js","../../src/assertAndNormalizeDirectoryUrl.js","../../src/assertAndNormalizeFileUrl.js","../../src/urlToFilePath.js","../../src/assertDirectoryExists.js","../../src/assertFileExists.js","../../src/createFileDirectories.js","../../src/fileExists.js","../../src/readFileContent.js","../../src/readFileStat.js","../../node_modules/@jsenv/core/src/internal/bundling/import-meta-commonjs.js","../../src/removeDirectory.js","../../src/removeFile.js","../../src/resolveUrl.js","../../src/urlsHaveSameOrigin.js","../../src/urlToRelativePath.js","../../src/urlToRelativeUrl.js","../../src/writeFileContent.js"],"sourcesContent":null,"names":["urlHasScheme","string","test","filePathToUrl","path","startsWith","String","pathToFileURL","ensureUrlTrailingSlash","url","endsWith","assertAndNormalizeDirectoryUrl","value","URL","href","Error","TypeError","assertAndNormalizeFileUrl","urlToFilePath","fileUrl","fileURLToPath","assertDirectoryExists","directoryUrl","directoryPath","filesystemEntry","pathToFilesystemEntry","type","Promise","resolve","reject","stat","error","stats","code","isFile","isDirectory","assertFileExists","filePath","createFileDirectories","mkdir","dirname","recursive","fileExists","readFilePromisified","promisify","readFile","readFileContent","buffer","toString","statPromisified","readFileStat","statsObject","nodeRequire","require","filenameContainsBackSlashes","__filename","indexOf","replace","rimraf","_require","removeDirectory","removeFile","unlink","resolveUrl","specifier","baseUrl","urlsHaveSameOrigin","otherUrl","origin","urlToRelativePath","baseFileUrl","fromPath","toPath","relativePath","relative","replaceBackSlashesWithSlashes","urlToRelativeUrl","slice","length","writeFilePromisified","writeFile","writeFileContent","content"],"mappings":"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"}